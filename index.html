<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <link
      rel="stylesheet"
      href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
    />
    <link
      rel="stylesheet"
      href="https://use.fontawesome.com/releases/v5.8.1/css/all.css"
      integrity="sha384-50oBUHEmvpQ+1lW4y57PTFmhCaXp0ML5d60M1M7uH2+nqUivzIebhndOJK28anvf"
      crossorigin="anonymous"
    />
    <link
      href="https://fonts.googleapis.com/css?family=Open+Sans&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="assets/styles.css"/>
    <title>My Weather App</title>
</head>


<header>
    <h1>Your Weather Forecasts</h1>
</header>
<body>
<!-- This will contain my search input -->

    <div class="sidebar">
    <form id="citySearch">
    <label>Search for a city here!</label>
    <input type="text" id="cityName">
    <button id="search">Search</button>
    </form>
     </div>

<!-- I will display my forecasts here -->
    <div id="forecasts" class="container">
        <div class="place"></div>
        <div class="wind"></div>
        <div class="humidity"></div>
        <div class="temp"></div>
    </div>

<footer>

</footer>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
  <script type="text/javascript">
 
    function citySearch (event){
        event.preventDefault ()
var cityName = $("#cityName").val()
   
    console.log (cityName)
    var currentWeather = "https://api.openweathermap.org/data/2.5/weather?q="+ cityName + "&appid=2af0ef1a0f66a04443807e8de444eb4d"
    $.ajax({
      url: currentWeather,
      method: "GET"
    })
      .then(function(response) {
        console.log(currentWeather);
        console.log(response);
        $(".place").html("<h1>" + response.name + " Weather Details</h1>");
        $(".wind").text("Wind Speed: " + response.wind.speed);
        $(".humidity").text("Humidity: " + response.main.humidity);
        var temp = (response.main.temp - 273.15) * 1.80 + 32;
        $(".temp").text("Temperature (F) " + temp.toFixed(2));
        console.log("Wind Speed: " + response.wind.speed);
        console.log("Humidity: " + response.main.humidity);
        console.log("Temperature (F): " + temp);
        var lat = response.coord.lat 
        var lon = response.coord.lon
        console.log (lat,lon)
        var sevenDay ="https://api.openweathermap.org/data/2.5/onecall?lat="+lat+"&lon="+lon+"&appid=2af0ef1a0f66a04443807e8de444eb4d"
        $.ajax({
        url: sevenDay,
        method: "GET"
        }).then(function(sevenData){
            console.log(sevenData)
        })
      });
      $("#cityName").val("")
    };
    $("#search").on("click", citySearch )
  </script>
</body>
</html>